Release notes for uPortal 2.5.3.1 General Audience
(the general audience release of uPortal 2.5.3.1):

SVN branch: 2-5-3-patches


Known issues

There are many known bugs in uPortal.

You can query the JA-SIG issue tracking system for the latest information about
known issues.  The uPortal 2.5.3 wiki page summarizes:

http://www.ja-sig.org/wiki/display/UPC/2.5.3

The most serious known issues at this writing include lack of access control
on the ALM Fragment Manager, bugs in supporting JSR-168 portlets for
guest user (non logged in), bugs in publishing fragments to particular users,
caching problems, thread pooling size problems, 
lost opportunities to chain some exceptions, Aggregated Layouts
committing broken transactions, DLM layout resetting not behaving as expected,
Group manager servant failing to complete when no selections are made, lack of
error checking in ALM fragment pushing...


Upgrading:

uPortal 2.5.3 uses a patched Xalan 2.6.0 rather than the standard 2.6.0.
The new jar file has a different name to reflect its different contents and so
the xalan.jar property in build.properties must be updated to reflect this new
.jar name.  This change has been applied to the build.properties included in
this release.  applicationContext.xml in the properties directory also changes
to check for this modified .jar instead of for the standard .jar.


Major new features and improvements in this release:

The WSRP consumer portlet in uPortal is now working.



Bug fixes in this release:

The rel-2-5-3-1 is a security patch release that fixed the RemoteUserSecurityContext 
exploit. For more details on this issue, please check the issue UP-1741 in JA-SIG 
Jira (http://www.ja-sig.org/issues/browse/UP-1741)

Following are the notes for rel-2-5-3

WSRP consumption is no longer broken.
By virtue of using a patched xalan, xalan no longer leaks memory.
Portlet file upload now works and request parameter mapping works better
(yielding better support for the Struts Bridge portlet framework.)
DLM no longer produces a StackOverflowError under load.
Render parameters are no longer "sticky" between different requests
Named LDAP service problems in Persondirs.xml are resolved.
CGenericXSLT now chains more exceptions.
CGroupsManager now implements ADD/REMOVE permission correctly
Suggested CAS configuration is corrected in security.properties comments.
...


Important deprecations:

IMultithreaded channel APIs of all flavors are now deprecated.  
It is more performant,
cleaner, simpler, and preferred to write IChannels or to write JSR-168 portlets
in place of writing IMultithreaded channels.  


Database schema changes

There are no database schema changes between 2.5.2 and 2.5.3.



Discussing this release and reporting issues:

Please discuss 2.5.3 on the uPortal project discussion lists.  
Please post issues discovered into JIRA.

(Almost) all changes applied to 2-5-patches working towards 2.5.3 should be reflected in JIRA issues.

The uPortal project discussion lists are also the place to discuss work going forward on the 2-5-patches
branch towards 2.5.4 and beyond.

Release engineer's environment:

This release was tested and tagged on a Dell WinXP pro laptop using JDK 1.5, Eclipse 3.2, and Tomcat 5.5.17.
The release deliverable was built on the tp.its.yale.edu Linux server using the shell script in /etc/
that checks out a tag and builds a release from it.
